{% extends 'tours/base.html' %}
{% block title %}{{ tour.title }} - Safarnama{% endblock %}

{% block content %}
<style>
  .tour-detail {
    width: 85%;
    margin: 30px auto;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  .tour-banner img {
    width: 100%;
    height: 350px;
    object-fit: cover;
  }
  .tour-info { padding: 25px; }
  .tour-info h2 { color: #0d6efd; margin-bottom: 10px; }
  .tour-meta { color: #555; margin-bottom: 15px; }
  .tour-desc { color: #444; line-height: 1.6; }

  .price-box {
    background: #f1f7ff;
    padding: 15px;
    border-radius: 8px;
    margin-top: 15px;
    font-weight: bold;
    color: #0d6efd;
  }

  .reviews { margin-top: 40px; }
  .review-card {
    background: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 10px;
  }
</style>

<div class="tour-detail">
  <div class="tour-banner">
   <img src="{{ tour.display_image }}" alt="{{ tour.title }}">
  </div>

  <div class="tour-info">
    <h2>{{ tour.title }}</h2>
    <p class="tour-meta">üìç {{ tour.location }} | ‚è± {{ tour.duration }}</p>
    <div class="price-box">üí∞ ‚Çπ{{ tour.price }}</div>
    <p class="tour-desc">{{ tour.description }}</p>

    <!-- REVIEWS -->
    <div class="reviews">
      <h3 style="color:#0d6efd;">User Reviews & Experiences</h3>
      {% if reviews %}
        {% for r in reviews %}
          <div class="review-card">
            <strong>{{ r.user.username }}</strong> ‚Äî ‚≠ê {{ r.rating }}/5<br>
            <small style="color:#777;">{{ r.created_at|date:"M d, Y" }}</small>
            <p>{{ r.comment }}</p>
          </div>
        {% endfor %}
      {% else %}
        <p>No reviews yet. Be the first to share your experience!</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
